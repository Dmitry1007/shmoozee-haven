<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title><%= content_for?(:title) ? yield(:title) : "foundation-rails" %></title>

    <%= stylesheet_link_tag    "application" %>
    <%= javascript_include_tag "vendor/modernizr" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tags %>
  </head>

  <body>
    <div class="row">
      <div class="large-3 columns">
        <h1><img src="http://placehold.it/400x100&text=Logo"></h1>
      </div>
      <div class="large-9 columns">
        <ul class="button-group right">
          <li><a href="/cart" class="cart"><i class="fi-shopping-cart"></i></a></li>
        </ul>
      </div>
    </div>

    <%= display_flash_messages %>

  <%= yield %>

  <footer class="row">
    <div class="large-12 columns">
      <hr/>
      <div class="row">
        <div class="large-6 columns">
          <p>Â© Copyright Killin-it</p>
        </div>
        <div class="large-6 columns">
          <ul class="inline-list right">
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
          <% if current_user %>
            <li><a href="#">My Orders</a></li>
            <li><a data-method="delete" href="/logout">Logout</a></li>
          <% else %>
            <li><a href="/users" data-reveal-id="registerModal">Register</a></li>
            <li><a href="/login" data-reveal-id="loginModal">Login</a></li>
          <% end %>
          </ul>
        </div>
      </div>
    </div>

    <div id="loginModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <%= form_for(:session, url: login_path) do |f| %>
          <h3>Login</h3><br>
          <%= f.text_field :username %><br>
          <%= f.text_field :password %><br>
          <%= f.submit "Login" %>
        <% end %>
      <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div>

    <div id="registerModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <%= form_for(:user, url: users_path) do |f| %>
          <h3>Register</h3><br>
          <%= f.email_field :email_address, label: 'E-mail' %><br>
          <%= f.text_field :username %><br>
          <%= f.text_field :password %><br>
          <%= f.submit "Create Account" %>
        <% end %>
      <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div>

  </footer>
  </body>
</html>
